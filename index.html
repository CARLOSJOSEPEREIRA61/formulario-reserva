<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Reserva Guaja_745</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 40px auto; }
    label { display: block; margin-top: 10px; }
    input, select, button { width: 100%; padding: 8px; margin-top: 5px; }
    #mensagem { margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>
  <h2>Formulário de Reserva</h2>
  <form id="reservaForm">
    <label for="checkin">Check-in:</label>
    <input type="date" id="checkin" name="checkin" required>

    <label for="checkout">Check-out:</label>
    <input type="date" id="checkout" name="checkout" required>

    <label for="uh">Unidade Habitacional (UH):</label>
    <select id="uh" name="uh" required>
      <option value="">Selecione</option>
      <option>01 Amora Mel</option>
      <option>02 Francisco</option>
      <option>03 Luna</option>
      <option>04 Teca</option>
      <option>05 Bento</option>
      <option>06 Luca</option>
      <option>07 Augusto</option>
      <option>08 Marie Lili</option>
      <option>09 Leo</option>
      <option>10 Nino</option>
      <option>11 Tony</option>
      <option>12 Kiko</option>
      <option>13 Anita</option>
      <option>14</option>
      <option>15</option>
      <option>16</option>
      <option>17</option>
      <option>18</option>
      <option>19</option>
      <option>20</option>
    </select>

    <label for="origem">Origem da Reserva:</label>
    <select id="origem" name="origem" required>
      <option value="">Selecione</option>
      <option>1 AirBnB</option>
      <option>2 Booking</option>
      <option>3 Avulso</option>
    </select>

    <button type="submit">Enviar Reserva</button>
  </form>

  <div id="mensagem"></div>

  <script>
    const form = document.getElementById("reservaForm");
    const mensagem = document.getElementById("mensagem");

    form.addEventListener("submit", function(e) {
      e.preventDefault();
      mensagem.textContent = "Enviando...";

      const formData = new FormData(form);
      const data = new URLSearchParams(formData);

      fetch("https://script.google.com/macros/s/AKfycbxAcyQ2CaqwRKZrPmaiUq2p41wWiOzdBRbgzWNRV5zO0MMndxsu3SUF8xsahsZRILu3/exec", {
        method: "POST",
        body: data
      })
      .then(res => res.json())
      .then(json => {
        if (json.status === "success") {
          mensagem.style.color = "green";
          mensagem.textContent = json.message;
          form.reset();
        } else {
          mensagem.style.color = "red";
          mensagem.textContent = json.message || "Erro desconhecido.";
        }
      })
      .catch(err => {
        mensagem.style.color = "red";
        mensagem.textContent = "Erro na comunicação.";
        console.error(err);
      });
    });
  </script>
</body>
</html>
